<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/assets/images/character.webp"/><link rel="preload" as="image" href="/assets/images/icons/back.svg"/><link rel="preload" as="image" href="/assets/images/icons/left-arrow.svg"/><link rel="stylesheet" href="/_next/static/css/b291c382b87b1478.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/bf652f8b587b9403.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-d933eddb9d7019d5.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-ef33cd78b8d8878c.js" async=""></script><script src="/_next/static/chunks/596-6a9d4376673ce765.js" async=""></script><script src="/_next/static/chunks/main-app-32e5fda02ee3f182.js" async=""></script><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-83PGP6B0HE"/><title>라니.로그 | useVisibleOnScreen</title><meta name="description" content="스크롤시 해당 DOM 요소가 노출됬는지 여부 감지"/><meta property="og:title" content="라니.로그"/><meta property="og:description" content="프론트엔드 개발자 라니의 로그기록"/><meta property="og:image" content="https://laniground.com/og-image.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="라니.로그"/><meta name="twitter:description" content="프론트엔드 개발자 라니의 로그기록"/><meta name="twitter:image" content="https://laniground.com/og-image.jpg"/><link rel="shortcut icon" href="/icon/shortcut-icon.png"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/icon/shortcut-icon.png"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f8d089 px-[20px]"><div id="main-root" class="mx-[-20px]"><header class="container-layout border-style flex justify-center border-y bg-zinc-800"><div class="content-layout border-style flex items-center justify-between border-x"><p class="border-style border-r bg-neutral-900 text-xl font-bold text-app-white transition-colors ease-in md:text-2xl"><a class="block px-4 py-3" href="/"><span class="__className_c1a29b">&lt;Welcome! /&gt;</span></a></p><div class="border-style flex h-full items-center border-l md:hidden"><button type="button" class="flex h-full items-center rounded-3xl bg-neutral-900 px-4 text-base text-app-white transition-colors">menu</button></div><ul class="hidden h-full md:flex"><li class="border-style flex h-full items-center border-l"><a class="bg-neutral-900 border-style flex h-full items-center rounded-full border-x px-8 text-base text-app-white transition-colors ease-in" href="/snippet">Snippet</a></li><li class="border-style flex h-full items-center border-l"><a class="false border-style flex h-full items-center rounded-full border-x px-8 text-base text-app-white transition-colors ease-in" href="/posts">Posts</a></li><li class="border-style flex h-full items-center border-l"><a class="false border-style flex h-full items-center rounded-full border-x px-8 text-base text-app-white transition-colors ease-in" href="/series">Series</a></li></ul></div></header><main class="flex min-h-screen flex-col"><section class="container-layout border-style grow-0 border-b bg-zinc-800"><div class="content-layout border-style relative justify-center border-x text-center text-app-white"><div class="flex flex-col justify-center px-4 py-16 md:px-5 md:py-20"><p class="mb-3 text-sm">snippet<!-- --> </p><h1 class="text-xl md:text-4xl">useVisibleOnScreen</h1></div></div></section><section class="container-layout border-style grow-0 border-b bg-zinc-800"><div class="content-layout"><div class="border-style align-center flex justify-center border-x text-app-white md:justify-start md:text-center"><p class="border-style border-l p-5 text-sm md:border-l-0">2023-10-18</p><p class="border-style flex items-center justify-center gap-1 border-x p-5 text-sm"><img alt="" loading="lazy" width="21" height="21" decoding="async" data-nimg="1" style="color:transparent" src="/assets/images/icons/timer.svg"/>약 <!-- -->2<!-- -->분</p></div></div></section><section class="container-layout bg-zinc-800"><div class="content-layout border-style flex flex-col border-x"><div class="flex"><div class="border-style relative hidden w-[280px] shrink-0 border-r bg-zinc-800 lg:block"><div class="sticky top-0 bg-zinc-800"><div class="border-style px-4"><div class="border-style mx-[-1rem] flex items-center border-b p-4"><div class="relative h-[40px] w-[40px] rounded-full border border-transparent bg-white"><img src="/assets/images/character.webp" alt="lani"/></div><p class="ml-4 text-app-white">developer Lani</p></div><div class="border-style mx-[-1rem] border-b p-4"><button type="button" class="flex items-center gap-2 text-sm font-bold text-app-pink"><img src="/assets/images/icons/back.svg" alt="back" class="b-[15px] h-[15px]"/><p>go to back</p></button></div><div class="mx-[-1rem] p-4 text-sm"><p class="font-bold text-app-white">table of contents</p><ul class="mt-2 flex max-h-[400px] flex-col gap-2 overflow-y-auto overflow-x-hidden text-neutral-500"><li><a href="/snippet/snippet_usevisibleonscreen#usevisibleonscreen">useVisibleOnScreen</a><ul class="mt-2 flex flex-col gap-2 pl-4"><li><a href="/snippet/snippet_usevisibleonscreen#hookslegacy">Hooks(Legacy)</a></li><li><a href="/snippet/snippet_usevisibleonscreen#hooksintersectionobserver-api-사용">Hooks(intersectionObserver API 사용)</a></li><li><a href="/snippet/snippet_usevisibleonscreen#usage">Usage</a></li></ul></li></ul></div><div class="border-style mx-[-1rem] border-t p-4 text-sm"><p class="font-bold text-app-white">tags</p><ul class="mt-2 flex flex-wrap gap-2"><li class="text-neutral-400">hooks</li><li class="text-neutral-400">DOM API</li></ul></div></div></div></div><div class="flex w-full flex-col bg-neutral-800 lg:w-[742px]"><div><div class="markdown-viewer box-border w-full bg-neutral-800 p-4 text-app-white md:p-5"><h2 id="usevisibleonscreen"><a aria-hidden="true" tabindex="-1" href="#usevisibleonscreen"><span class="icon icon-link"></span></a>useVisibleOnScreen</h2>
<p>스크롤 시 해당 DOM 요소가 노출됬는지 여부 감지</p>
<h3 id="hookslegacy"><a aria-hidden="true" tabindex="-1" href="#hookslegacy"><span class="icon icon-link"></span></a>Hooks(Legacy)</h3>
<pre><span class="language-text">tsx</span><pre style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-tsx" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useCallback</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useEffect</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useRef</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useState </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;react&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">export</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">default</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token generic-function" style="color:hsl(207, 82%, 66%)">useVisibleOnScreen</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token generic-function generic" style="color:hsl(29, 54%, 61%)">T</span><span class="token generic-function generic" style="color:hsl(29, 54%, 61%)"> </span><span class="token generic-function generic" style="color:hsl(286, 60%, 67%)">extends</span><span class="token generic-function generic" style="color:hsl(29, 54%, 61%)"> </span><span class="token generic-function generic maybe-class-name" style="color:hsl(29, 54%, 61%)">HTMLElement</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span><span>  ref</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">React</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access maybe-class-name">RefObject</span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(29, 54%, 61%)">T</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span>  isVisible</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">boolean</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>isVisible</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setIsVisible</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token generic-function" style="color:hsl(207, 82%, 66%)">useState</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token generic-function generic" style="color:hsl(95, 38%, 62%)">boolean</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">false</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">8</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> ref </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token generic-function" style="color:hsl(207, 82%, 66%)">useRef</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token generic-function generic" style="color:hsl(29, 54%, 61%)">T</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">9</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">10</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> checkVisibility </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">11</span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>ref</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">12</span><span>      </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> rect </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> ref</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getBoundingClientRect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">13</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">14</span><span>      </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>rect</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">top</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span> </span><span class="token dom" style="color:hsl(207, 82%, 66%)">window</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">innerHeight</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">300</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span> rect</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">bottom</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">15</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">setIsVisible</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">true</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">16</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">17</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">setIsVisible</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">false</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">18</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">19</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">20</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">21</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">22</span><span>  </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">23</span><span>    </span><span class="token dom" style="color:hsl(207, 82%, 66%)">window</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">addEventListener</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;scroll&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> checkVisibility</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">24</span><span>    </span><span class="token dom" style="color:hsl(207, 82%, 66%)">window</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">addEventListener</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;touchmove&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> checkVisibility</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">25</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">26</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">checkVisibility</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">27</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">28</span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">29</span><span>      </span><span class="token dom" style="color:hsl(207, 82%, 66%)">window</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">removeEventListener</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;scroll&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> checkVisibility</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">30</span><span>      </span><span class="token dom" style="color:hsl(207, 82%, 66%)">window</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">removeEventListener</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;touchmove&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> checkVisibility</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">31</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">32</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>checkVisibility</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">33</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">34</span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> ref</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> isVisible </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">35</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  </span></code></pre></pre>
<h3 id="hooksintersectionobserver-api-사용"><a aria-hidden="true" tabindex="-1" href="#hooksintersectionobserver-api-사용"><span class="icon icon-link"></span></a>Hooks(intersectionObserver API 사용)</h3>
<p>intersectionObserver API를 사용하며 Hook의 기능을 추가/변경했다.</p>
<p><strong>Props</strong></p>
<ol>
<li>activeClass: 해당 요소가 노출될 때 추가할 클래스명</li>
<li>key: 추적 요소의 고유 키값 부여</li>
</ol>
<p><strong>Return</strong></p>
<ol>
<li>ref: 추적할 요소를 가진 *container(div tag)**를 ref로 지정하기 위함</li>
<li>activeKey: 현재 노출된 요소의 키값</li>
<li>activeElement: 현재 노출된 Element 요소</li>
</ol>
<pre><span class="language-text">tsx</span><pre style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-tsx" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useEffect</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useRef</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useState </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;react&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">interface</span><span> </span><span class="token maybe-class-name" style="color:hsl(29, 54%, 61%)">Props</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span><span>  key</span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">string</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span>  activeClass</span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">string</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">8</span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">export</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">default</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useVisibleOnScreen</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>props</span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">Props</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">9</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> key </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;scroll-item&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> activeClass </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> props </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">10</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">11</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>activeKey</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setActiveKey</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token generic-function" style="color:hsl(207, 82%, 66%)">useState</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token generic-function generic" style="color:hsl(95, 38%, 62%)">string</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">12</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>activeElement</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setActiveElement</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token generic-function" style="color:hsl(207, 82%, 66%)">useState</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token generic-function generic maybe-class-name" style="color:hsl(29, 54%, 61%)">Element</span><span class="token generic-function generic" style="color:hsl(29, 54%, 61%)"> </span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">|</span><span class="token generic-function generic" style="color:hsl(29, 54%, 61%)"> </span><span class="token generic-function generic nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">13</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> ref </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token generic-function" style="color:hsl(207, 82%, 66%)">useRef</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token generic-function generic maybe-class-name" style="color:hsl(29, 54%, 61%)">HTMLDivElement</span><span class="token generic-function generic" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">14</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">15</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">callback</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>entries</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">IntersectionObserverEntry</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">16</span><span>    entries</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">forEach</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>entry</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">17</span><span>      </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> key </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> entry</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">target</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getAttribute</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;data-key&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">18</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">19</span><span>      </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>entry</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">isIntersecting</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">20</span><span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>activeClass</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">21</span><span>          entry</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">target</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">classList</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">add</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>activeClass</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">22</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">23</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">24</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">setActiveKey</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>key </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">25</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">setActiveElement</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>entry</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">target</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">26</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>activeClass</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">27</span><span>        entry</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">target</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">classList</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">remove</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>activeClass</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">28</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">29</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">30</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">31</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">32</span><span>  </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">33</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> intersectionObserver </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">new</span><span> </span><span class="token maybe-class-name" style="color:hsl(29, 54%, 61%)">IntersectionObserver</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>callback</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">34</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">35</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> scrollItems </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Array</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>ref</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span class="token" style="color:hsl(207, 82%, 66%)">?.</span><span>children </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token maybe-class-name">HTMLCollection</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">36</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">37</span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">!</span><span>scrollItems</span><span class="token" style="color:hsl(207, 82%, 66%)">?.</span><span>length</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">38</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">39</span><span>    scrollItems</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">forEach</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>item</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> index</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">40</span><span>      item</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">setAttribute</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;data-key&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">-</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">index</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">41</span><span>      intersectionObserver</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">observe</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>item</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">42</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">43</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">44</span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">45</span><span>      intersectionObserver</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">disconnect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">46</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">47</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">48</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">49</span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">50</span><span>    ref</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">51</span><span>    activeKey</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">52</span><span>    activeElement</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">53</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">54</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  </span></code></pre></pre>
<h3 id="usage"><a aria-hidden="true" tabindex="-1" href="#usage"><span class="icon icon-link"></span></a>Usage</h3>
<pre><span class="language-text">tsx</span><pre style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-tsx" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token maybe-class-name" style="color:hsl(207, 82%, 66%)">Component</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> ref</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> activeKey</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> activeElement </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useVisibleOnScreen</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span>    activeClass</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;active&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;activeKey&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> activeKey</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// scroll-item-0  </span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;activeElement&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> activeElement</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// &lt;section class=&quot;h-[100vh] bg-orange-300 p-8 active&quot; data-key=&quot;scroll-item-0&quot;&gt;&lt;p&gt;section 1&lt;/p&gt;&lt;/section&gt;  </span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span>  
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">8</span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">9</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">div</span><span class="token" style="color:hsl(355, 65%, 65%)"> </span><span class="token" style="color:hsl(29, 54%, 61%)">ref</span><span class="token script language-javascript script-punctuation" style="color:hsl(355, 65%, 65%)">=</span><span class="token script language-javascript" style="color:hsl(220, 14%, 71%)">{</span><span class="token script language-javascript" style="color:hsl(355, 65%, 65%)">ref</span><span class="token script language-javascript" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">10</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">11</span><span class="token plain-text">        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">section 1</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">12</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">13</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">14</span><span class="token plain-text">        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">section 2</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">15</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">16</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">17</span><span class="token plain-text">        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">section 3</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">18</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">19</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">20</span><span class="token plain-text">        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">section 4</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">p</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">21</span><span class="token plain-text">      </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">section</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">22</span><span class="token plain-text">    </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">div</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">23</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>  
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">24</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>  </span></code></pre></pre></div></div><div class="flex-between border-style mt-auto flex border-t bg-zinc-800 text-app-white"><div class="border-style flex w-[50%] p-4"><a class="flex gap-4" href="/snippet/snippet_usescrolllock"><span><img src="/assets/images/icons/left-arrow.svg" alt="prev" class="h-[18px] w-[18px]"/></span><div class="flex flex-col items-start gap-1"><p class="text-sm text-neutral-500">prev</p><p class="max-w-[120px] truncate text-neutral-300 md:max-w-[200px]">useScrollLock<!-- -->useScrollLock<!-- -->useScrollLock</p></div></a></div><div class="flex w-[50%] justify-end p-4"></div></div><div class="border-style border-t px-4 pt-4"></div></div></div></div></section></main><footer class="__className_829659 container-layout border-style border-y bg-neutral-800"><div class="content-layout border-style border-x py-4"><p class="text-center text-xs font-bold text-app-white md:text-sm">© 2023 Lani. All Rights Reserved.</p></div></footer></div><div id="modal-root"></div><script src="/_next/static/chunks/webpack-d933eddb9d7019d5.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/b291c382b87b1478.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/bf652f8b587b9403.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":57948,\"chunks\":[\"272:static/chunks/webpack-d933eddb9d7019d5.js\",\"971:static/chunks/fd9d1056-ef33cd78b8d8878c.js\",\"596:static/chunks/596-6a9d4376673ce765.js\"],\"name\":\"default\",\"async\":false}\n6:I{\"id\":56628,\"chunks\":[\"272:static/chunks/webpack-d933eddb9d7019d5.js\",\"971:static/chunks/fd9d1056-ef33cd78b8d8878c.js\",\"596:static/chunks/596-6a9d4376673ce765.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":83015,\"chunks\":[\"185:static/chunks/app/layout-fab63e01be67d147.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":47767,\"chu"])</script><script>self.__next_f.push([1,"nks\":[\"272:static/chunks/webpack-d933eddb9d7019d5.js\",\"971:static/chunks/fd9d1056-ef33cd78b8d8878c.js\",\"596:static/chunks/596-6a9d4376673ce765.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":57920,\"chunks\":[\"272:static/chunks/webpack-d933eddb9d7019d5.js\",\"971:static/chunks/fd9d1056-ef33cd78b8d8878c.js\",\"596:static/chunks/596-6a9d4376673ce765.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":73630,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"759:static/chunks/759-2fdb45c2e561be64.js\",\"432:static/chunks/a"])</script><script>self.__next_f.push([1,"pp/(blog)/layout-b9db017cd951f021.js\"],\"name\":\"\",\"async\":false}\nc:I{\"id\":69518,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"759:static/chunks/759-2fdb45c2e561be64.js\",\"432:static/chunks/app/(blog)/layout-b9db017cd951f021.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b291c382b87b1478.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"LTy-h-CtWWZj6d3qryEwD\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/snippet/snippet_usevisibleonscreen\",\"initialTree\":[\"\",{\"children\":[\"(blog)\",{\"children\":[\"snippet\",{\"children\":[[\"slug\",\"snippet_usevisibleonscreen\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"snippet_usevisibleonscreen\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[[\"$\",\"$L7\",null,{\"strategy\":\"afterInteractive\",\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-83PGP6B0HE\"}],[\"$\",\"$L7\",null,{\"id\":\"gtag-init\",\"strategy\":\"afterInteractive\",\"dangerouslySetInnerHTML\":{\"__html\":\"\\n            window.dataLayer = window.dataLayer || [];\\n            function gtag(){dataLayer.push(arguments);}\\n            gtag('js', new Date());\\n            gtag('config', 'G-83PGP6B0HE', {\\n                page_path: window.location.pathname,\\n            });\\n          \"}}]],[\"$\",\"body\",null,{\"className\":\"__className_f8d089 px-[20px]\",\"children\":[[\"$\",\"div\",null,{\"id\":\"main-root\",\"className\":\"mx-[-20px]\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$La\",\"notFoundStyles\":[],\"childProp\":{\"current\":[null,[[\"$\",\"header\",null,{\"className\":\"container-layout border-style flex justify-center border-y bg-zinc-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-layout border-style flex items-center justify-between border-x\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"$Lc\",null,{}]]}]}],[\"$\",\"main\",null,{\"className\":\"flex min-h-screen flex-col\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(blog)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(blog)\",\"children\",\"snippet\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(blog)\",\"children\",\"snippet\",\"children\",[\"slug\",\"snippet_usevisibleonscreen\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$Ld\",\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$Le\",\"$Lf\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"snippet_usevisibleonscreen\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"snippet_usevisibleonscreen\",\"d\"]},\"styles\":[]}],\"segment\":\"snippet\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"__className_829659 container-layout border-style border-y bg-neutral-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-layout border-style border-x py-4\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-center text-xs font-bold text-app-white md:text-sm\",\"children\":\"© 2023 Lani. All Rights Reserved.\"}]}]}]],null],\"segment\":\"(blog)\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf652f8b587b9403.css\",\"precedence\":\"next\"}]]}]}],[\"$\",\"div\",null,{\"id\":\"modal-root\"}]]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"10:I{\"id\":46685,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"332:static/chunks/app/(blog)/snippet/[slug]/not-found-3653929c86b80cfb.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":63222,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"131:static/chunks/131-fc8cbd361048c354.js\",\"595:static/chunks/595-076be3922a6d844e.js\",\"360:static/chunks/app/(blog)/snippet/[slug]/page-687487e1b80f4380.js\"],\"name\":\"Image\",\"async\":false}\n12:I{\"id\":33429,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"131:stati"])</script><script>self.__next_f.push([1,"c/chunks/131-fc8cbd361048c354.js\",\"595:static/chunks/595-076be3922a6d844e.js\",\"360:static/chunks/app/(blog)/snippet/[slug]/page-687487e1b80f4380.js\"],\"name\":\"\",\"async\":false}\n13:I{\"id\":59944,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"131:static/chunks/131-fc8cbd361048c354.js\",\"595:static/chunks/595-076be3922a6d844e.js\",\"360:static/chunks/app/(blog)/snippet/[slug]/page-687487e1b80f4380.js\"],\"name\":\"\",\"async\":false}\n14:I{\"id\":23758,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"131:static/"])</script><script>self.__next_f.push([1,"chunks/131-fc8cbd361048c354.js\",\"595:static/chunks/595-076be3922a6d844e.js\",\"360:static/chunks/app/(blog)/snippet/[slug]/page-687487e1b80f4380.js\"],\"name\":\"\",\"async\":false}\n17:I{\"id\":6832,\"chunks\":[\"685:static/chunks/685-4f0f72178562bcc6.js\",\"131:static/chunks/131-fc8cbd361048c354.js\",\"595:static/chunks/595-076be3922a6d844e.js\",\"360:static/chunks/app/(blog)/snippet/[slug]/page-687487e1b80f4380.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"div\",null,{\"className\":\"flex h-screen flex-col items-center justify-center bg-zinc-800 text-app-white\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/assets/images/icons/not-found.svg\",\"alt\":\"page not found\",\"className\":\"h-[128px] w-[128px]\"}],[\"$\",\"p\",null,{\"className\":\"mt-8 text-2xl\",\"children\":\"페이지를 찾을 수 없어요\"}],[\"$\",\"$L10\",null,{\"href\":\"/\",\"className\":\"mt-2 flex items-center gap-2\",\"children\":[[\"$\",\"p\",null,{\"children\":\"홈으로\"}],[\"$\",\"img\",null,{\"src\":\"/assets/images/icons/right-arrow.svg\",\"alt\":\"move to home\",\"className\":\"h-[18px] w-[18px]\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"div\",null,{\"className\":\"container-layout bg-zinc-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-layout bg-neutral-800 text-app-white\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-center py-32\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/assets/images/icons/not.svg\",\"className\":\"h-[80px] w-[80px]\",\"alt\":\"series is empty\"}],[\"$\",\"p\",null,{\"className\":\"mt-6\",\"children\":\"해당 포스트를 찾을 수 없어요\"}],[\"$\",\"$L10\",null,{\"href\":\"/posts\",\"className\":\"mt-2 flex items-center gap-2\",\"children\":[[\"$\",\"p\",null,{\"children\":\"다른 포스트 보러가기\"}],[\"$\",\"img\",null,{\"src\":\"/assets/images/icons/right-arrow.svg\",\"alt\":\"move to posts\",\"className\":\"h-[18px] w-[18px]\"}]]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"15:T5cc,"])</script><script>self.__next_f.push([1,"import { useEffect, useRef, useState } from 'react';  \n  \ninterface Props {  \n  key?: string;  \n  activeClass?: string;  \n}  \n  \nexport default function useVisibleOnScreen(props?: Props) {  \n  const { key = 'scroll-item', activeClass } = props || {};  \n  \n  const [activeKey, setActiveKey] = useState\u003cstring\u003e('');  \n  const [activeElement, setActiveElement] = useState\u003cElement | null\u003e(null);  \n  const ref = useRef\u003cHTMLDivElement\u003e(null);  \n  \n  const callback = (entries: IntersectionObserverEntry[]) =\u003e {  \n    entries.forEach((entry) =\u003e {  \n      const key = entry.target.getAttribute('data-key');  \n  \n      if (entry.isIntersecting) {  \n        if (activeClass) {  \n          entry.target.classList.add(activeClass);  \n        }  \n  \n        setActiveKey(key || '');  \n        setActiveElement(entry.target);  \n      } else if (activeClass) {  \n        entry.target.classList.remove(activeClass);  \n      }  \n    });  \n  };  \n  \n  useEffect(() =\u003e {  \n    const intersectionObserver = new IntersectionObserver(callback);  \n  \n    const scrollItems = Array.from(ref.current?.children as HTMLCollection);  \n  \n    if (!scrollItems?.length) return () =\u003e {};  \n  \n    scrollItems.forEach((item, index) =\u003e {  \n      item.setAttribute('data-key', `${key}-${index}`);  \n      intersectionObserver.observe(item);  \n    });  \n  \n    return () =\u003e {  \n      intersectionObserver.disconnect();  \n    };  \n  }, []);  \n  \n  return {  \n    ref,  \n    activeKey,  \n    activeElement,  \n  };  \n}  \n"])</script><script>self.__next_f.push([1,"16:T5cc,"])</script><script>self.__next_f.push([1,"import { useEffect, useRef, useState } from 'react';  \n  \ninterface Props {  \n  key?: string;  \n  activeClass?: string;  \n}  \n  \nexport default function useVisibleOnScreen(props?: Props) {  \n  const { key = 'scroll-item', activeClass } = props || {};  \n  \n  const [activeKey, setActiveKey] = useState\u003cstring\u003e('');  \n  const [activeElement, setActiveElement] = useState\u003cElement | null\u003e(null);  \n  const ref = useRef\u003cHTMLDivElement\u003e(null);  \n  \n  const callback = (entries: IntersectionObserverEntry[]) =\u003e {  \n    entries.forEach((entry) =\u003e {  \n      const key = entry.target.getAttribute('data-key');  \n  \n      if (entry.isIntersecting) {  \n        if (activeClass) {  \n          entry.target.classList.add(activeClass);  \n        }  \n  \n        setActiveKey(key || '');  \n        setActiveElement(entry.target);  \n      } else if (activeClass) {  \n        entry.target.classList.remove(activeClass);  \n      }  \n    });  \n  };  \n  \n  useEffect(() =\u003e {  \n    const intersectionObserver = new IntersectionObserver(callback);  \n  \n    const scrollItems = Array.from(ref.current?.children as HTMLCollection);  \n  \n    if (!scrollItems?.length) return () =\u003e {};  \n  \n    scrollItems.forEach((item, index) =\u003e {  \n      item.setAttribute('data-key', `${key}-${index}`);  \n      intersectionObserver.observe(item);  \n    });  \n  \n    return () =\u003e {  \n      intersectionObserver.disconnect();  \n    };  \n  }, []);  \n  \n  return {  \n    ref,  \n    activeKey,  \n    activeElement,  \n  };  \n}  \n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"section\",null,{\"className\":\"container-layout border-style grow-0 border-b bg-zinc-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-layout border-style relative justify-center border-x text-center text-app-white\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col justify-center px-4 py-16 md:px-5 md:py-20\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-3 text-sm\",\"children\":[\"snippet\",\" \",\"$undefined\"]}],[\"$\",\"h1\",null,{\"className\":\"text-xl md:text-4xl\",\"children\":\"useVisibleOnScreen\"}]]}]}]}],[\"$\",\"section\",null,{\"className\":\"container-layout border-style grow-0 border-b bg-zinc-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-layout\",\"children\":[\"$\",\"div\",null,{\"className\":\"border-style align-center flex justify-center border-x text-app-white md:justify-start md:text-center\",\"children\":[[\"$\",\"p\",null,{\"className\":\"border-style border-l p-5 text-sm md:border-l-0\",\"children\":\"2023-10-18\"}],[\"$\",\"p\",null,{\"className\":\"border-style flex items-center justify-center gap-1 border-x p-5 text-sm\",\"children\":[[\"$\",\"$L11\",null,{\"src\":\"/assets/images/icons/timer.svg\",\"width\":21,\"height\":21,\"alt\":\"\"}],\"약 \",2,\"분\"]}]]}]}]}],[\"$\",\"section\",null,{\"className\":\"container-layout bg-zinc-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-layout border-style flex flex-col border-x\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex\",\"children\":[[\"$\",\"$L12\",null,{\"toc\":[{\"level\":2,\"title\":\"useVisibleOnScreen\",\"href\":\"#usevisibleonscreen\",\"children\":[{\"level\":3,\"title\":\"Hooks(Legacy)\",\"href\":\"#hookslegacy\"},{\"level\":3,\"title\":\"Hooks(intersectionObserver API 사용)\",\"href\":\"#hooksintersectionobserver-api-사용\"},{\"level\":3,\"title\":\"Usage\",\"href\":\"#usage\"}]}],\"tags\":[\"hooks\",\"DOM API\"]}],[\"$\",\"div\",null,{\"className\":\"flex w-full flex-col bg-neutral-800 lg:w-[742px]\",\"children\":[[\"$\",\"$L13\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"markdown-viewer box-border w-full bg-neutral-800 p-4 text-app-white md:p-5\",\"children\":[[\"$\",\"h2\",\"0\",{\"id\":\"usevisibleonscreen\",\"children\":[[\"$\",\"a\",\"0\",{\"aria-hidden\":\"true\",\"tabIndex\":-1,\"href\":\"#usevisibleonscreen\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"icon icon-link\"}]]}],\"useVisibleOnScreen\"]}],\"\\n\",[\"$\",\"p\",\"2\",{\"children\":[\"스크롤 시 해당 DOM 요소가 노출됬는지 여부 감지\"]}],\"\\n\",[\"$\",\"h3\",\"4\",{\"id\":\"hookslegacy\",\"children\":[[\"$\",\"a\",\"0\",{\"aria-hidden\":\"true\",\"tabIndex\":-1,\"href\":\"#hookslegacy\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"icon icon-link\"}]]}],\"Hooks(Legacy)\"]}],\"\\n\",[\"$\",\"pre\",\"6\",{\"children\":[[\"$\",\"$L14\",null,{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-tsx\"]},\"children\":[{\"type\":\"text\",\"value\":\"import { useCallback, useEffect, useRef, useState } from 'react';  \\n  \\nexport default function useVisibleOnScreen\u003cT extends HTMLElement\u003e(): {  \\n  ref: React.RefObject\u003cT\u003e;  \\n  isVisible: boolean;  \\n} {  \\n  const [isVisible, setIsVisible] = useState\u003cboolean\u003e(false);  \\n  const ref = useRef\u003cT\u003e(null);  \\n  \\n  const checkVisibility = useCallback(() =\u003e {  \\n    if (ref.current) {  \\n      const rect = ref.current.getBoundingClientRect();  \\n  \\n      if (rect.top \u003c window.innerHeight - 300 \u0026\u0026 rect.bottom \u003e 0) {  \\n        setIsVisible(true);  \\n      } else {  \\n        setIsVisible(false);  \\n      }  \\n    }  \\n  }, []);  \\n  \\n  useEffect(() =\u003e {  \\n    window.addEventListener('scroll', checkVisibility);  \\n    window.addEventListener('touchmove', checkVisibility);  \\n  \\n    checkVisibility();  \\n  \\n    return () =\u003e {  \\n      window.removeEventListener('scroll', checkVisibility);  \\n      window.removeEventListener('touchmove', checkVisibility);  \\n    };  \\n  }, [checkVisibility]);  \\n  \\n  return { ref, isVisible };  \\n}  \\n\"}],\"position\":{\"start\":{\"line\":8,\"column\":1,\"offset\":87},\"end\":{\"line\":44,\"column\":6,\"offset\":1115}}},\"children\":[\"import { useCallback, useEffect, useRef, useState } from 'react';  \\n  \\nexport default function useVisibleOnScreen\u003cT extends HTMLElement\u003e(): {  \\n  ref: React.RefObject\u003cT\u003e;  \\n  isVisible: boolean;  \\n} {  \\n  const [isVisible, setIsVisible] = useState\u003cboolean\u003e(false);  \\n  const ref = useRef\u003cT\u003e(null);  \\n  \\n  const checkVisibility = useCallback(() =\u003e {  \\n    if (ref.current) {  \\n      const rect = ref.current.getBoundingClientRect();  \\n  \\n      if (rect.top \u003c window.innerHeight - 300 \u0026\u0026 rect.bottom \u003e 0) {  \\n        setIsVisible(true);  \\n      } else {  \\n        setIsVisible(false);  \\n      }  \\n    }  \\n  }, []);  \\n  \\n  useEffect(() =\u003e {  \\n    window.addEventListener('scroll', checkVisibility);  \\n    window.addEventListener('touchmove', checkVisibility);  \\n  \\n    checkVisibility();  \\n  \\n    return () =\u003e {  \\n      window.removeEventListener('scroll', checkVisibility);  \\n      window.removeEventListener('touchmove', checkVisibility);  \\n    };  \\n  }, [checkVisibility]);  \\n  \\n  return { ref, isVisible };  \\n}  \\n\"],\"language\":\"tsx\"}]]}],\"\\n\",[\"$\",\"h3\",\"8\",{\"id\":\"hooksintersectionobserver-api-사용\",\"children\":[[\"$\",\"a\",\"0\",{\"aria-hidden\":\"true\",\"tabIndex\":-1,\"href\":\"#hooksintersectionobserver-api-사용\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"icon icon-link\"}]]}],\"Hooks(intersectionObserver API 사용)\"]}],\"\\n\",[\"$\",\"p\",\"10\",{\"children\":[\"intersectionObserver API를 사용하며 Hook의 기능을 추가/변경했다.\"]}],\"\\n\",[\"$\",\"p\",\"12\",{\"children\":[[\"$\",\"strong\",\"0\",{\"children\":[\"Props\"]}]]}],\"\\n\",[\"$\",\"ol\",\"14\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"activeClass: 해당 요소가 노출될 때 추가할 클래스명\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"key: 추적 요소의 고유 키값 부여\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"16\",{\"children\":[[\"$\",\"strong\",\"0\",{\"children\":[\"Return\"]}]]}],\"\\n\",[\"$\",\"ol\",\"18\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"ref: 추적할 요소를 가진 *container(div tag)**를 ref로 지정하기 위함\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"activeKey: 현재 노출된 요소의 키값\"]}],\"\\n\",[\"$\",\"li\",\"5\",{\"children\":[\"activeElement: 현재 노출된 Element 요소\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"20\",{\"children\":[[\"$\",\"$L14\",null,{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-tsx\"]},\"children\":[{\"type\":\"text\",\"value\":\"$15\"}],\"position\":{\"start\":{\"line\":61,\"column\":1,\"offset\":1449},\"end\":{\"line\":116,\"column\":6,\"offset\":2947}}},\"children\":[\"$16\"],\"language\":\"tsx\"}]]}],\"\\n\",[\"$\",\"h3\",\"22\",{\"id\":\"usage\",\"children\":[[\"$\",\"a\",\"0\",{\"aria-hidden\":\"true\",\"tabIndex\":-1,\"href\":\"#usage\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"icon icon-link\"}]]}],\"Usage\"]}],\"\\n\",[\"$\",\"pre\",\"24\",{\"children\":[[\"$\",\"$L14\",null,{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-tsx\"]},\"children\":[{\"type\":\"text\",\"value\":\"function Component() {  \\n  const { ref, activeKey, activeElement } = useVisibleOnScreen({  \\n    activeClass: 'active',  \\n  });  \\n  console.log('activeKey', activeKey); // scroll-item-0  \\n  console.log('activeElement', activeElement); // \u003csection class=\\\"h-[100vh] bg-orange-300 p-8 active\\\" data-key=\\\"scroll-item-0\\\"\u003e\u003cp\u003esection 1\u003c/p\u003e\u003c/section\u003e  \\n  \\n  return (  \\n    \u003cdiv ref={ref}\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 1\u003c/p\u003e  \\n      \u003c/section\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 2\u003c/p\u003e  \\n      \u003c/section\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 3\u003c/p\u003e  \\n      \u003c/section\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 4\u003c/p\u003e  \\n      \u003c/section\u003e  \\n    \u003c/div\u003e  \\n  );  \\n}  \\n\"}],\"position\":{\"start\":{\"line\":120,\"column\":1,\"offset\":2966},\"end\":{\"line\":145,\"column\":6,\"offset\":3641}}},\"children\":[\"function Component() {  \\n  const { ref, activeKey, activeElement } = useVisibleOnScreen({  \\n    activeClass: 'active',  \\n  });  \\n  console.log('activeKey', activeKey); // scroll-item-0  \\n  console.log('activeElement', activeElement); // \u003csection class=\\\"h-[100vh] bg-orange-300 p-8 active\\\" data-key=\\\"scroll-item-0\\\"\u003e\u003cp\u003esection 1\u003c/p\u003e\u003c/section\u003e  \\n  \\n  return (  \\n    \u003cdiv ref={ref}\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 1\u003c/p\u003e  \\n      \u003c/section\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 2\u003c/p\u003e  \\n      \u003c/section\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 3\u003c/p\u003e  \\n      \u003c/section\u003e  \\n      \u003csection\u003e  \\n        \u003cp\u003esection 4\u003c/p\u003e  \\n      \u003c/section\u003e  \\n    \u003c/div\u003e  \\n  );  \\n}  \\n\"],\"language\":\"tsx\"}]]}]]}]}],false,[\"$\",\"div\",null,{\"className\":\"flex-between border-style mt-auto flex border-t bg-zinc-800 text-app-white\",\"children\":[[\"$\",\"div\",null,{\"className\":\"border-style flex w-[50%] p-4\",\"children\":[\"$\",\"$L10\",null,{\"href\":\"/snippet/snippet_usescrolllock\",\"className\":\"flex gap-4\",\"children\":[[\"$\",\"span\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/assets/images/icons/left-arrow.svg\",\"alt\":\"prev\",\"className\":\"h-[18px] w-[18px]\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col items-start gap-1\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-neutral-500\",\"children\":\"prev\"}],[\"$\",\"p\",null,{\"className\":\"max-w-[120px] truncate text-neutral-300 md:max-w-[200px]\",\"children\":[\"useScrollLock\",\"useScrollLock\",\"useScrollLock\"]}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"flex w-[50%] justify-end p-4\",\"children\":null}]]}],[\"$\",\"$L17\",null,{}]]}]]}]}]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"라니.로그 | useVisibleOnScreen\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"스크롤시 해당 DOM 요소가 노출됬는지 여부 감지\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"라니.로그\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"프론트엔드 개발자 라니의 로그기록\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image\",\"content\":\"https://laniground.com/og-image.jpg\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"라니.로그\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"프론트엔드 개발자 라니의 로그기록\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:image\",\"content\":\"https://laniground.com/og-image.jpg\"}],[\"$\",\"link\",\"12\",{\"rel\":\"shortcut icon\",\"href\":\"/icon/shortcut-icon.png\"}],[\"$\",\"link\",\"13\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",\"14\",{\"rel\":\"apple-touch-icon\",\"href\":\"/icon/shortcut-icon.png\"}]]\n"])</script><script>self.__next_f.push([1,"e:null\n"])</script></body></html>
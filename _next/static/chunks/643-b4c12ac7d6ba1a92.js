"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{37643:function(e,n,t){t.r(n),t.d(n,{ModalProvider:function(){return C},useModalContext:function(){return E}});var o=t(3827),r=t(64090),i=t(89542),u=function(){if(!(null==document?void 0:document.body))return 0;var e,n=document.createElement("div");n.style.visibility="hidden",n.style.overflow="scroll",document.body.appendChild(n);var t=document.createElement("div");n.appendChild(t);var o=n.offsetWidth-t.offsetWidth;return null===(e=n.parentNode)||void 0===e||e.removeChild(n),o},a=function(e){var n=window.getComputedStyle(e);return("auto"===n.overflow||"scroll"===n.overflow||"auto"===n.overflowY||"scroll"===n.overflowY)&&e.scrollHeight>e.clientHeight},c=function(e){var n=e.target,t=n.closest(".react-modal__container");if(!t){e.preventDefault(),e.stopPropagation();return}for(var o=n;o&&t.contains(o);){if(a(o)){if("wheel"===e.type){var r=0===o.scrollTop,i=o.scrollTop+o.clientHeight>=o.scrollHeight;(r&&e.deltaY<0||i&&e.deltaY>0)&&e.preventDefault()}e.stopPropagation();return}o=o.parentElement}e.preventDefault(),e.stopPropagation()},l=function(e,n,t){if(!(null==document?void 0:document.documentElement)||!(null==document?void 0:document.body))return 0;if(!e&&null!=document&&document.body&&document.body.scrollHeight>window.innerHeight){var o=parseInt(window.getComputedStyle(document.body).paddingRight,10)||0;document.body.style.paddingRight="".concat(o+n,"px")}return document.documentElement.style.overflow="hidden",window.scrollY},d=function(e,n){(null==document?void 0:document.documentElement)&&(null==document?void 0:document.body)&&(document.documentElement.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"),window.scrollTo(0,e))},s=function(){return(s=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function f(e){var n=e.name,t=e.closeModal,i=e.dim,u=e.centerMode,a=e.animation,c=e.containerPadding,l=e.disabledOutsideClose,d=e.isClosing,f=void 0!==d&&d,v=e.children,m=(0,r.useRef)(null),p=(0,r.useState)(!1),h=p[0],w=p[1],y=(0,r.useRef)(),b=(0,r.useMemo)(function(){var e,n,t;return(null==a?void 0:a.duration)?f?"react-modal__container__exit ".concat(null!==(e=a.className)&&void 0!==e?e:""):h?"react-modal__container__enter ".concat(null!==(n=a.className)&&void 0!==n?n:""):"react-modal__container__exit ".concat(null!==(t=a.className)&&void 0!==t?t:""):""},[null==a?void 0:a.className,null==a?void 0:a.duration,h,f]);(0,r.useEffect)(function(){return f||(y.current=window.setTimeout(function(){w(!0)},10)),function(){y.current&&clearTimeout(y.current)}},[f]);var g=(0,r.useCallback)(function(e){var o=e.target.closest('[data-type="modal"]');o&&!(!m.current||m.current.contains(e.target))&&o.dataset.name&&o.dataset.name===n&&t()},[t,n]);return(0,r.useEffect)(function(){if(!l)return document.addEventListener("click",g,{capture:!0}),function(){document.removeEventListener("click",g,{capture:!0})}},[l,g]),(0,o.jsx)("div",{"data-type":"modal","data-name":n,className:"react-modal__container ".concat(b," ").concat(u?"center-mode":""),style:s({},{backgroundColor:i,padding:c}),children:(0,o.jsx)("div",{ref:m,children:v})})}var v=function(e,n){var t,o,r,i,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,o=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(r=(r=u.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){u.label=a[1];break}if(6===a[0]&&u.label<r[1]){u.label=r[1],r=a;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(a);break}r[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},m="modal-root";function p(){var e=this,n=E(),t=n.modals,a=n.closeModal,c=(0,r.useState)(null),s=c[0],p=c[1],h=(0,r.useRef)(0),w=(0,r.useRef)(0),y=(0,r.useRef)(!1),b=(0,r.useRef)({overflow:"",paddingRight:""}),g=(0,r.useRef)(!1);(0,r.useEffect)(function(){var e=document.querySelector("#".concat(m));return e||((e=document.createElement("div")).setAttribute("id",m),document.body.append(e)),p(e),w.current=u(),y.current=!!navigator&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),function(){g.current&&(d(h.current,b.current),g.current=!1)}},[]);var C=(0,r.useMemo)(function(){return t.some(function(e){return!e.disabledScrollLock&&!e.isClosing})},[t]);(0,r.useEffect)(function(){C&&!g.current?(b.current={overflow:document.documentElement.style.overflow,paddingRight:document.body.style.paddingRight},requestAnimationFrame(function(){h.current=l(y.current,w.current,b.current),g.current=!0})):!C&&g.current&&requestAnimationFrame(function(){d(h.current,b.current),g.current=!1})},[C]);var k=(0,r.useMemo)(function(){var n=new Map;return t.forEach(function(t){n.has(t.id)||n.set(t.id,function(){var n,o,r;return n=void 0,o=void 0,r=function(){return v(this,function(e){switch(e.label){case 0:return t.onClose&&t.onClose(),[4,a(t.id)];case 1:return e.sent(),[2]}})},new(o||(o=Promise))(function(t,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?t(e.value):((n=e.value)instanceof o?n:new o(function(e){e(n)})).then(u,a)}c((r=r.apply(e,n||[])).next())})})}),n},[t,a]);return s?(0,o.jsx)(o.Fragment,{children:t.map(function(e){var n=k.get(e.id);return(0,i.createPortal)((0,o.jsx)(f,{name:e.name||e.id,closeModal:n,dim:e.dim,centerMode:e.centerMode||!1,animation:e.animation,containerPadding:e.containerPadding,disabledOutsideClose:e.disabledOutsideClose||!1,isClosing:e.isClosing,children:e.component(n)},e.id),s)})}):null}var h=function(){return(h=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},w=function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function u(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?r(e.value):((n=e.value)instanceof t?n:new t(function(e){e(n)})).then(u,a)}c((o=o.apply(e,n||[])).next())})},y=function(e,n){var t,o,r,i,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,o=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(r=(r=u.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){u.label=a[1];break}if(6===a[0]&&u.label<r[1]){u.label=r[1],r=a;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(a);break}r[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},b=function(e,n,t){if(t||2==arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))},g=(0,r.createContext)(void 0);function C(e){var n=this,t=e.children,i=(0,r.useState)([]),u=i[0],a=i[1],l=(0,r.useState)(!1),d=l[0],s=l[1],f=(0,r.useRef)(!1);(0,r.useEffect)(function(){return s(!0),function(){document.removeEventListener("wheel",c),document.removeEventListener("touchmove",c)}},[]);var v=(0,r.useCallback)(function(e){e&&!f.current?(document.addEventListener("wheel",c,{passive:!1}),document.addEventListener("touchmove",c,{passive:!1}),f.current=!0):!e&&f.current&&(document.removeEventListener("wheel",c),document.removeEventListener("touchmove",c),f.current=!1)},[]);(0,r.useEffect)(function(){d&&v(u.some(function(e){return!e.disabledScrollLock}))},[d,u,v]);var m=(0,r.useCallback)(function(e){if(!d)return"";var n=u.find(function(n){return n.name===e.name});if(n)return n.id;var t="modal-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),o=h(h({},e),{id:t});return a(function(e){return b(b([],e,!0),[o],!1)}),t},[d,u]),C=(0,r.useCallback)(function(e){return w(n,void 0,void 0,function(){return y(this,function(n){return d?[2,new Promise(function(n){var t=0;a(function(o){var r,i=o.find(function(n){return n.id===e});return i?(t=(null===(r=i.animation)||void 0===r?void 0:r.duration)||0,o.map(function(n){return n.id===e?h(h({},n),{isClosing:!0}):n})):(n(),o)});var o=function(){a(function(t){var o=t.find(function(n){return n.id===e});if(null==o?void 0:o.onClose)try{o.onClose()}catch(e){console.warn("Modal onClose callback error:",e)}return n(),t.filter(function(n){return n.id!==e})})};t>0?setTimeout(o,t):o()})]:[2,Promise.resolve()]})})},[d]),E=(0,r.useCallback)(function(){return w(n,void 0,void 0,function(){return y(this,function(e){return d?[2,new Promise(function(e){a(function(n){return n.forEach(function(e){if(e.onClose)try{e.onClose()}catch(e){console.warn("Modal onClose callback error:",e)}}),e(),[]}),v(!1)})]:[2,Promise.resolve()]})})},[d,v]),k=(0,r.useCallback)(function(e){return!!d&&u.some(function(n){return n.id===e})},[u,d]);return(0,r.useEffect)(function(){if(d){var e=window.location.pathname,n=function(){var n=window.location.pathname;n!==e&&(e=n,E())};window.addEventListener("popstate",n);var t=window.history.pushState,o=window.history.replaceState;return window.history.pushState=function(e,o,r){var i=t.call(this,e,o,r);return Promise.resolve().then(n),i},window.history.replaceState=function(e,t,r){var i=o.call(this,e,t,r);return Promise.resolve().then(n),i},function(){window.removeEventListener("popstate",n),window.history.pushState=t,window.history.replaceState=o}}},[d,E]),(0,o.jsxs)(g.Provider,{value:{modals:u,openModal:m,closeModal:C,closeAllModals:E,isModalOpen:k},children:[t,d&&(0,o.jsx)(p,{})]})}function E(){var e=(0,r.useContext)(g);if(void 0===e)throw Error("useModalContext must be used within a ModalProvider");return e}}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{89390:function(n,e,t){t.r(e),t.d(e,{ModalProvider:function(){return m},useModalContext:function(){return w}});var o=t(3827),r=t(64090),a=t(89542),i=function(){return(i=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function c(n){var e=n.name,t=n.closeModal,a=n.dim,c=n.centerMode,u=n.animation,l=n.containerPadding,s=n.disabledOutsideClose,d=n.isClosing,f=void 0!==d&&d,v=n.children,h=(0,r.useRef)(null),p=(0,r.useState)(!1),m=p[0],w=p[1],y=(0,r.useMemo)(function(){var n,e,t;return(null==u?void 0:u.duration)?f?"react-modal__container__exit ".concat(null!==(n=u.className)&&void 0!==n?n:""):m?"react-modal__container__enter ".concat(null!==(e=u.className)&&void 0!==e?e:""):"react-modal__container__exit ".concat(null!==(t=u.className)&&void 0!==t?t:""):""},[null==u?void 0:u.className,null==u?void 0:u.duration,m,f]);(0,r.useEffect)(function(){if(!f){var n=setTimeout(function(){w(!0)},10);return function(){clearTimeout(n)}}},[f]);var b=(0,r.useCallback)(function(n){var o=n.target.closest('[data-type="modal"]');o&&!(!h.current||h.current.contains(n.target))&&o.dataset.name&&o.dataset.name===e&&t()},[t,e]);return(0,r.useEffect)(function(){if(!s)return document.addEventListener("click",b,{capture:!0}),function(){document.removeEventListener("click",b,{capture:!0})}},[s,b]),(0,o.jsx)("div",{"data-type":"modal","data-name":e,className:"react-modal__container ".concat(y," ").concat(c?"center-mode":""),style:i({},{backgroundColor:a,padding:l}),children:(0,o.jsx)("div",{ref:h,children:v})})}var u=function(n,e){var t,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){return function(c){if(t)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(n,i)}catch(n){c=[6,n],o=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},l="modal-root";function s(){var n=this,e=w(),t=e.modals,i=e.closeModal,s=(0,r.useState)(null),d=s[0],f=s[1],v=(0,r.useRef)(0);(0,r.useEffect)(function(){var n=document.querySelector("#".concat(l));n||((n=document.createElement("div")).setAttribute("id","".concat(l)),document.body.append(n)),f(n)},[]);var h=(0,r.useMemo)(function(){return t.some(function(n){return!n.disabledScrollLock})},[t]);(0,r.useEffect)(function(){return h?(v.current=window.scrollY,document.body.style.overflow="hidden"):(document.body.style.overflow="",0!==v.current&&window.scrollTo({top:v.current,behavior:"instant"})),function(){document.body.style.overflow=""}},[h]);var p=(0,r.useMemo)(function(){var e=new Map;return t.forEach(function(t){e.has(t.id)||e.set(t.id,function(){var e,o,r;return e=void 0,o=void 0,r=function(){return u(this,function(n){switch(n.label){case 0:return t.onClose&&t.onClose(),[4,i(t.id)];case 1:return n.sent(),[2]}})},new(o||(o=Promise))(function(t,a){function i(n){try{u(r.next(n))}catch(n){a(n)}}function c(n){try{u(r.throw(n))}catch(n){a(n)}}function u(n){var e;n.done?t(n.value):((e=n.value)instanceof o?e:new o(function(n){n(e)})).then(i,c)}u((r=r.apply(n,e||[])).next())})})}),e},[t,i]);return(0,o.jsx)(o.Fragment,{children:d&&t.map(function(n){var e=p.get(n.id);return(0,a.createPortal)((0,o.jsx)(c,{name:n.name||n.id,closeModal:e,dim:n.dim,centerMode:n.centerMode||!1,animation:n.animation,containerPadding:n.containerPadding,disabledOutsideClose:n.disabledOutsideClose||!1,isClosing:n.isClosing,children:n.component(e)},n.id),d)})})}var d=function(){return(d=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},f=function(n,e,t,o){return new(t||(t=Promise))(function(r,a){function i(n){try{u(o.next(n))}catch(n){a(n)}}function c(n){try{u(o.throw(n))}catch(n){a(n)}}function u(n){var e;n.done?r(n.value):((e=n.value)instanceof t?e:new t(function(n){n(e)})).then(i,c)}u((o=o.apply(n,e||[])).next())})},v=function(n,e){var t,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){return function(c){if(t)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(n,i)}catch(n){c=[6,n],o=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},h=function(n,e,t){if(t||2==arguments.length)for(var o,r=0,a=e.length;r<a;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},p=(0,r.createContext)(void 0);function m(n){var e=this,t=n.children,a=(0,r.useState)([]),i=a[0],c=a[1],u=(0,r.useState)(!1),l=u[0],m=u[1];(0,r.useEffect)(function(){m(!0)},[]);var w=(0,r.useCallback)(function(n){if(!l)return"";var e="modal-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),t=d(d({},n),{id:e});return c(function(n){return h(h([],n,!0),[t],!1)}),e},[l]),y=(0,r.useCallback)(function(n){return f(e,void 0,void 0,function(){return v(this,function(e){return l?[2,new Promise(function(e){var t=0;c(function(o){var r,a=o.find(function(e){return e.id===n});return a?(t=(null===(r=a.animation)||void 0===r?void 0:r.duration)||0,o.map(function(e){return e.id===n?d(d({},e),{isClosing:!0}):e})):(e(),o)});var o=function(){c(function(t){var o=t.find(function(e){return e.id===n});if(null==o?void 0:o.onClose)try{o.onClose()}catch(n){console.warn("Modal onClose callback error:",n)}return e(),t.filter(function(e){return e.id!==n})})};t>0?setTimeout(o,t):o()})]:[2,Promise.resolve()]})})},[l]),b=(0,r.useCallback)(function(){return f(e,void 0,void 0,function(){return v(this,function(n){return l?[2,new Promise(function(n){c(function(e){return e.forEach(function(n){if(n.onClose)try{n.onClose()}catch(n){console.warn("Modal onClose callback error:",n)}}),n(),[]})})]:[2,Promise.resolve()]})})},[l]),C=(0,r.useCallback)(function(n){return!!l&&i.some(function(e){return e.id===n})},[i,l]);return(0,r.useEffect)(function(){if(l){var n=window.location.pathname,e=function(){var e=window.location.pathname;e!==n&&(n=e,(0,r.startTransition)(function(){c(function(n){return n.length>0?(n.forEach(function(n){if(n.onClose)try{n.onClose()}catch(n){console.warn("Modal onClose callback error:",n)}}),[]):n})}))};window.addEventListener("popstate",e);var t=window.history.pushState,o=window.history.replaceState;return window.history.pushState=function(n,o,r){var a=t.call(this,n,o,r);return Promise.resolve().then(e),a},window.history.replaceState=function(n,t,r){var a=o.call(this,n,t,r);return Promise.resolve().then(e),a},function(){window.removeEventListener("popstate",e),window.history.pushState=t,window.history.replaceState=o}}},[l]),(0,o.jsxs)(p.Provider,{value:{modals:i,openModal:w,closeModal:y,closeAllModals:b,isModalOpen:C},children:[t,l&&(0,o.jsx)(s,{})]})}function w(){var n=(0,r.useContext)(p);if(void 0===n)throw Error("useModalContext must be used within a ModalProvider");return n}}}]);